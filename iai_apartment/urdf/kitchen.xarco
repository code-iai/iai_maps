<robot xmlns:xacro="http://www.ros.org/wiki/xacro" name="kitchen">

  <!-- Such is life in a kitchen : xacro -->
  <xacro:macro name="kitchen_macro" params="name parent *origin">

    <joint name="${name}" type="fixed">
      <xacro:insert_block name="origin" />
      <parent link="${parent}" />
      <child link="kitchen_root" />
    </joint>
    <link name="kitchen_root" />

    <!-- Frames, reference frames -->
    <joint name="frame_A_joint" type="fixed">
      <parent link="kitchen_root" />
      <origin xyz="0.49 0.696 0.080" />
      <child link="side_A" />
    </joint>

    <!-- Bond, James Bond -->
    <joint name="frame_B_joint" type="fixed">
      <parent link="kitchen_root" />
      <origin xyz="2.91 3.7 0.11" rpy="0 0 3.14" />
      <child link="side_B" />
    </joint>

    <link name="side_A" />

    <link name="side_B" />

    <!-- - - - - - - - - - - - - Cabinets side A - - - - - - - - - -->
    <!-- Cabinet1 -->
    <joint name="cabinet1_joint" type="fixed">
      <origin xyz="0.01 0.01 1.02" />
      <parent link="side_A" />
      <child link="cabinet1" />
    </joint>

    <link name="cabinet1">
      <visual>
        <origin xyz="0.0 0.0 0.0" />
        <geometry>
          <mesh filename="package://iai_apartment/meshes/cabinet01/IAICabinet1W60.dae" />
        </geometry>
      </visual>
      <collision>
        <origin xyz="0.0 0.0 0.0" />
        <geometry>
          <mesh filename="package://iai_apartment/meshes/cabinet01/IAICabinet1W60.obj" />
        </geometry>
      </collision>
    </link>

    <joint name="cabinet1_door_top_left_joint" type="revolute">
      <origin xyz="0.103 -0.3 0.32" rpy="0 0 3.14" />
      <parent link="cabinet1" />
      <child link="cabinet1_door_top_left" />
      <axis xyz="0 0 -1" />
      <limit effort="1000.0" lower="0.0" upper="1.5708" velocity="1.5708" />
    </joint>

    <link name="cabinet1_door_top_left">
      <visual>
        <origin xyz="0.001 -0.305 0.35" rpy="0 0 3.14" />
        <geometry>
          <mesh filename="package://iai_apartment/meshes/cabinet01/IAIDoorW60H80.dae" />
        </geometry>
      </visual>
      <collision>
        <origin xyz="0.001 -0.305 0.35" rpy="0 0 3.14" />
        <geometry>
          <mesh filename="package://iai_apartment/meshes/cabinet01/IAIDoorW60H80.obj" />
        </geometry>
      </collision>
    </link>

    <joint name="handle_cab1_top_door_joint" type="fixed">
      <origin xyz="-0.055 -0.5 0.0" rpy="1.57 0 0" />
      <parent link="cabinet1_door_top_left" />
      <child link="handle_cab1_top_door" />
    </joint>

    <link name="handle_cab1_top_door">
      <visual>
        <geometry>
          <mesh filename="package://iai_apartment/meshes/handles/handle_horizontal.dae" />
        </geometry>
      </visual>
      <collision>
        <geometry>
          <mesh filename="package://iai_apartment/meshes/handles/handle_horizontal.obj" />
        </geometry>
      </collision>
    </link>

    <joint name="oven_joint" type="fixed">
      <origin xyz="-0.175 0.0 -0.025" rpy="0 0 0" />
      <!-- <origin xyz="-0.125 0.0 -0.025" rpy="0 0 0"/> -->
      <parent link="cabinet1" />
      <child link="oven" />
    </joint>

    <material name="oven_gray">
      <color rgba="0.8 0.8 0.8 1" />
    </material>

    <link name="oven">
      <visual>
        <geometry>
          <!-- <box size="0.58 0.58 0.59"/> -->
          <mesh filename="package://iai_apartment/meshes/cabinet01/oven.dae" />
        </geometry>
        <!-- <material name="oven_gray"/> -->
      </visual>
      <collision>
        <geometry>
          <box size="0.58 0.58 0.59" />
        </geometry>
      </collision>
    </link>

    <joint name="cabinet1_drawer_middle_joint" type="prismatic">
      <origin xyz="-0.117 0.0 -0.43" rpy="0 0 3.14" />
      <parent link="cabinet1" />
      <child link="cabinet1_drawer_middle" />
      <axis xyz="-1 0 0" />
      <limit effort="1000.0" lower="0.0" upper="0.45" velocity="0.5" />
    </joint>

    <link name="cabinet1_drawer_middle">
      <visual>
        <origin rpy="0 0 3.14" />
        <geometry>
          <mesh filename="package://iai_apartment/meshes/cabinet01/IAIDrawerW60H26.dae" />
        </geometry>
      </visual>
      <collision>
        <origin rpy="0 0 3.14" />
        <geometry>
          <mesh filename="package://iai_apartment/meshes/cabinet01/IAIDrawerW60H26.obj" />
        </geometry>
      </collision>
    </link>

    <joint name="handle_cab1_drawer_mid_joint" type="fixed">
      <origin xyz="-0.26 0.0 0.11" rpy="1.57 0 0" />
      <parent link="cabinet1_drawer_middle" />
      <child link="handle_cab1_drawer_mid" />
    </joint>

    <link name="handle_cab1_drawer_mid">
      <visual>
        <geometry>
          <mesh filename="package://iai_apartment/meshes/handles/handle_horizontal.dae" />
        </geometry>
      </visual>
      <collision>
        <geometry>
          <mesh filename="package://iai_apartment/meshes/handles/handle_horizontal.obj" />
        </geometry>
      </collision>
    </link>

    <joint name="cabinet1_drawer_bottom_joint" type="prismatic">
      <origin xyz="-0.094 0.0 -0.95" rpy="0 0 3.14" />
      <parent link="cabinet1" />
      <child link="cabinet1_drawer_bottom" />
      <axis xyz="-1 0 0" />
      <limit effort="1000.0" lower="0.0" upper="0.45" velocity="0.5" />
    </joint>

    <link name="cabinet1_drawer_bottom">
      <visual>
        <origin rpy="0 0 -3.14" />
        <geometry>
          <mesh filename="package://iai_apartment/meshes/cabinet01/IAIDrawerW60H53.dae" />
        </geometry>
      </visual>
      <collision>
        <origin rpy="0 0 -3.14" />
        <geometry>
          <mesh filename="package://iai_apartment/meshes/cabinet01/IAIDrawerW60H53.obj" />
        </geometry>
      </collision>
    </link>

    <joint name="handle_cab1_drawer_bottom_joint" type="fixed">
      <origin xyz="-0.237 0.0 0.35" rpy="1.57 0 0" />
      <parent link="cabinet1_drawer_bottom" />
      <child link="handle_cab1_drawer_bottom" />
    </joint>

    <link name="handle_cab1_drawer_bottom">
      <visual>
        <geometry>
          <mesh filename="package://iai_apartment/meshes/handles/handle_horizontal.dae" />
        </geometry>
      </visual>
      <collision>
        <geometry>
          <mesh filename="package://iai_apartment/meshes/handles/handle_horizontal.obj" />
        </geometry>
      </collision>
    </link>

    <!-- Collision okay surface for cabinet1-->
    <material name="white">
      <color rgba="1 1 1 1" />
    </material>
    <joint name="cabinet1_coloksu_level4_joint" type="fixed">
      <origin xyz="-0.172 0.005 0.281" />
      <parent link="cabinet1" />
      <child link="cabinet1_coloksu_level4" />
    </joint>
    <link name="cabinet1_coloksu_level4">
      <visual>
        <geometry>
          <box size="0.534 0.568 0.003" />
        </geometry>
        <material name="white" />
      </visual>
      <collision>
        <geometry>
          <box size="0.534 0.568 0.003" />
        </geometry>
      </collision>
    </link>

    <joint name="cabinet1_coloksu_level5_joint" type="fixed">
      <!-- actually this should align with the CAD model but the CAD model is incorrect. -->
      <!-- <origin xyz="-0.172 0.005 0.672"/> -->
      <origin xyz="-0.172 0.005 0.56" />
      <parent link="cabinet1" />
      <child link="cabinet1_coloksu_level5" />
    </joint>
    <link name="cabinet1_coloksu_level5">
      <visual>
        <geometry>
          <box size="0.534 0.568 0.02" />
        </geometry>
        <material name="white" />
      </visual>
      <collision>
        <geometry>
          <box size="0.534 0.568 0.02" />
        </geometry>
      </collision>
    </link>


    <!-- Cabinet2 -->
    <joint name="cabinet2_joint" type="fixed">
      <origin xyz="-0.163 0.51 0.975" />
      <parent link="side_A" />
      <child link="cabinet2" />
    </joint>

    <link name="cabinet2">
      <visual>
        <geometry>
          <mesh filename="package://iai_apartment/meshes/cabinet02/IAICabinet2W40H57.dae" />
        </geometry>
      </visual>
      <collision>
        <geometry>
          <mesh filename="package://iai_apartment/meshes/cabinet02/IAICabinet2W40H57.obj" />
        </geometry>
      </collision>
    </link>

    <joint name="cabinet2_door_out_joint" type="prismatic">
      <origin xyz="0.277 -0.19 0.0" rpy="0 0 3.14" />
      <parent link="cabinet2" />
      <child link="cabinet2_door_out_fancy" />
      <axis xyz="-1 0 0" />
      <limit effort="1.0" lower="0.0" upper="0.02" velocity="1.5708" />
      <mimic joint="cabinet2_door_left_joint" multiplier="0.01" />
    </joint>

    <link name="cabinet2_door_out_fancy" />

    <joint name="cabinet2_door_left_joint" type="revolute">
      <parent link="cabinet2_door_out_fancy" />
      <child link="cabinet2_door_left" />
      <axis xyz="0 0 -1" />
      <limit effort="1000.0" lower="0.0" upper="1.5708" velocity="1.5708" />
    </joint>

    <link name="cabinet2_door_left">
      <visual>
        <origin xyz="0 -0.2 0.145" rpy="0 0 3.14" />
        <geometry>
          <mesh filename="package://iai_apartment/meshes/cabinet02/IAIDoorW40H212.dae" />
        </geometry>
      </visual>
      <collision>
        <origin xyz="0 -0.2 0.145" rpy="0 0 3.14" />
        <geometry>
          <mesh filename="package://iai_apartment/meshes/cabinet02/IAIDoorW40H212.obj" />
        </geometry>
      </collision>
    </link>

    <joint name="handle_cab2_drawer_bottom_joint" type="fixed">
      <origin xyz="-0.040 -0.29 0.05" rpy="1.57 0 0" />
      <parent link="cabinet2_door_left" />
      <child link="handle_cab2_door" />
    </joint>

    <link name="handle_cab2_door">
      <visual>
        <geometry>
          <mesh filename="package://iai_apartment/meshes/handles/handle_horizontal.dae" />
        </geometry>
      </visual>
      <collision>
        <geometry>
          <mesh filename="package://iai_apartment/meshes/handles/handle_horizontal.obj" />
        </geometry>
      </collision>
    </link>

    <joint name="cabinet2_drawer_small_joint" type="prismatic">
      <origin xyz="-0.01 0.0 0.17" rpy="0 0 3.14" />
      <parent link="cabinet2" />
      <child link="cabinet2_drawer_small" />
      <axis xyz="-1 0 0" />
      <limit effort="500.0" lower="0.0" upper="0.45" velocity="0.5" />
    </joint>

    <link name="cabinet2_drawer_small">
      <visual>
        <origin rpy="0 0 3.14" />
        <geometry>
          <mesh filename="package://iai_apartment/meshes/cabinet02/IAIDrawerW40H10.dae" />
        </geometry>
      </visual>
      <collision>
        <origin rpy="0 0 3.14" />
        <geometry>
          <mesh filename="package://iai_apartment/meshes/cabinet02/IAIDrawerW40H10.obj" />
        </geometry>
      </collision>
    </link>

    <joint name="cabinet2_drawer_big_joint" type="prismatic">
      <origin xyz="0.04 0.0 -0.12" rpy="0 0 3.14" />
      <parent link="cabinet2" />
      <child link="cabinet2_drawer_big" />
      <axis xyz="-1 0 0" />
      <limit effort="500.0" lower="0.0" upper="0.45" velocity="0.5" />
    </joint>

    <link name="cabinet2_drawer_big">
      <visual>
        <origin rpy="0 0 3.14" />
        <geometry>
          <mesh filename="package://iai_apartment/meshes/cabinet02/IAIDrawerW40H22.dae" />
        </geometry>
      </visual>
      <collision>
        <origin rpy="0 0 3.14" />
        <geometry>
          <mesh filename="package://iai_apartment/meshes/cabinet02/IAIDrawerW40H22.obj" />
        </geometry>
      </collision>
    </link>

    <!-- Cabinet3 -->
    <joint name="cabinet3_joint" type="fixed">
      <origin xyz="-0.273 1.022 1.07" />
      <parent link="side_A" />
      <child link="cabinet3" />
    </joint>

    <link name="cabinet3">
      <visual>
        <geometry>
          <mesh filename="package://iai_apartment/meshes/cabinet03/IAICabinet3W60.dae" />
        </geometry>
      </visual>
      <collision>
        <geometry>
          <mesh filename="package://iai_apartment/meshes/cabinet03/IAICabinet3W60.obj" />
        </geometry>
      </collision>
    </link>

    <joint name="cabinet3_door_top_out_joint" type="prismatic">
      <origin xyz="0.39 -0.3 0.5" rpy="0 0 3.14" />
      <parent link="cabinet3" />
      <child link="cabinet3_door_top_out_fancy" />
      <axis xyz="-1 0 0" />
      <limit effort="1.0" lower="0.0" upper="0.02" velocity="1.5708" />
      <mimic joint="cabinet3_door_top_left_joint" multiplier="0.01" />
    </joint>

    <link name="cabinet3_door_top_out_fancy" />

    <joint name="cabinet3_door_top_left_joint" type="revolute">

      <parent link="cabinet3_door_top_out_fancy" />
      <child link="cabinet3_door_top_left" />
      <axis xyz="0 0 -1" />
      <limit effort="1000.0" lower="0.0" upper="1.5708" velocity="1.5708" />
    </joint>

    <link name="cabinet3_door_top_left">
      <visual>
        <origin xyz="0.001 -0.3 -0.1" rpy="0 0 3.14" />
        <geometry>
          <mesh filename="package://iai_apartment/meshes/cabinet03/IAIDoorW60H133.dae" />
        </geometry>
      </visual>
      <collision>
        <origin xyz="0.001 -0.3 -0.1" rpy="0 0 3.14" />
        <geometry>
          <mesh filename="package://iai_apartment/meshes/cabinet03/IAIDoorW60H133.obj" />
        </geometry>
      </collision>
    </link>

    <joint name="handle_cab3_door_top_joint" type="fixed">
      <origin xyz="-0.036 -0.45 -0.65" rpy="1.57 0 0" />
      <parent link="cabinet3_door_top_left" />
      <child link="handle_cab3_door_top" />
    </joint>

    <link name="handle_cab3_door_top">
      <visual>
        <geometry>
          <mesh filename="package://iai_apartment/meshes/handles/handle_horizontal.dae" />
        </geometry>
      </visual>
      <collision>
        <geometry>
          <mesh filename="package://iai_apartment/meshes/handles/handle_horizontal.obj" />
        </geometry>
      </collision>
    </link>

    <joint name="cabinet3_door_bottom_out_joint" type="prismatic">
      <origin xyz="0.39 -0.3 -0.5" rpy="0 0 3.14" />
      <parent link="cabinet3" />
      <child link="cabinet3_door_bottom_out_fancy" />
      <axis xyz="-1 0 0" />
      <limit effort="1.0" lower="0.0" upper="0.02" velocity="1.5708" />
      <mimic joint="cabinet3_door_bottom_left_joint" multiplier="0.01" />
    </joint>

    <link name="cabinet3_door_bottom_out_fancy" />

    <joint name="cabinet3_door_bottom_left_joint" type="revolute">
      <parent link="cabinet3_door_bottom_out_fancy" />
      <child link="cabinet3_door_bottom_left" />
      <axis xyz="0 0 -1" />
      <limit effort="1000.0" lower="0.0" upper="1.5708" velocity="1.5708" />
    </joint>

    <link name="cabinet3_door_bottom_left">
      <visual>
        <origin xyz="0.001 -0.3 -0.165" rpy="0 0 3.14" />
        <geometry>
          <mesh filename="package://iai_apartment/meshes/cabinet03/IAIDoorW60H80.dae" />
        </geometry>
      </visual>
      <collision>
        <origin xyz="0.001 -0.3 -0.165" rpy="0 0 3.14" />
        <geometry>
          <mesh filename="package://iai_apartment/meshes/cabinet03/IAIDoorW60H80.obj" />
        </geometry>
      </collision>
    </link>

    <joint name="handle_cab3_door_bottom_joint" type="fixed">
      <origin xyz="-0.036 -0.45 0.1" rpy="1.57 0 0" />
      <parent link="cabinet3_door_bottom_left" />
      <child link="handle_cab3_door_bottom" />
    </joint>

    <link name="handle_cab3_door_bottom">
      <visual>
        <geometry>
          <mesh filename="package://iai_apartment/meshes/handles/handle_horizontal.dae" />
        </geometry>
      </visual>
      <collision>
        <geometry>
          <mesh filename="package://iai_apartment/meshes/handles/handle_horizontal.obj" />
        </geometry>
      </collision>
    </link>

    <!-- Cabinet4 -->
    <joint name="cabinet4_joint" type="fixed">
      <origin xyz="-0.175 1.825 1.72" />
      <parent link="side_A" />
      <child link="cabinet4" />
    </joint>

    <link name="cabinet4">
      <visual>
        <geometry>
          <mesh filename="package://iai_apartment/meshes/cabinet04/IAIKitchenCabinet4W100.dae" />
        </geometry>
      </visual>
      <collision>
        <geometry>
          <mesh filename="package://iai_apartment/meshes/cabinet04/IAIKitchenCabinet4W100.obj" />
        </geometry>
      </collision>
    </link>

    <joint name="cabinet4_door_top_top_joint" type="revolute">
      <origin xyz="0.07 0 0.42" rpy="0 0 3.14" />
      <parent link="cabinet4" />
      <child link="cabinet4_door_top" />
      <axis xyz="0 1 0" />
      <limit effort="1000.0" lower="0" upper="2.0" velocity="1.5708" />
    </joint>

    <link name="cabinet4_door_top">
      <visual>
        <origin xyz="0.0 0.0 -0.2" rpy="0 0 3.14" />
        <geometry>
          <mesh filename="package://iai_apartment/meshes/cabinet04/IAIDoor1W100H40.dae" />
        </geometry>
      </visual>
      <collision>
        <origin xyz="0.0 0.0 -0.2" rpy="0 0 3.14" />
        <geometry>
          <mesh filename="package://iai_apartment/meshes/cabinet04/IAIDoor1W100H40.obj" />
        </geometry>
      </collision>
    </link>

    <joint name="cabinet4_door_bottom_bottom_joint" type="revolute">
      <origin xyz="0.0 0.0 -0.4" rpy="0 0 0" />
      <parent link="cabinet4_door_top" />
      <child link="cabinet4_door_bottom" />
      <axis xyz="0 -1 0" />
      <limit effort="1000.0" lower="0.0" upper="1.5708" velocity="1.5708" />
      <mimic joint="cabinet4_door_top_top_joint" multiplier="1.2" />
    </joint>

    <link name="cabinet4_door_bottom">
      <visual>
        <origin xyz="-0.014 0.0 -0.2" rpy="0 0 3.14" />
        <geometry>
          <mesh filename="package://iai_apartment/meshes/cabinet04/IAIDoor2W100H40.dae" />
        </geometry>
      </visual>
      <collision>
        <origin xyz="-.014 0.0 -0.2" rpy="0 0 3.14" />
        <geometry>
          <mesh filename="package://iai_apartment/meshes/cabinet04/IAIDoor2W100H40.obj" />
        </geometry>
      </collision>
    </link>

    <joint name="handle_cab4_door_bottom_joint" type="fixed">
      <origin xyz="-0.055 0 -0.35" rpy="1.57 0 0" />
      <parent link="cabinet4_door_bottom" />
      <child link="handle_cab4_door_bottom" />
    </joint>

    <link name="handle_cab4_door_bottom">
      <visual>
        <geometry>
          <mesh filename="package://iai_apartment/meshes/handles/handle_horizontal.dae" />
        </geometry>
      </visual>
      <collision>
        <geometry>
          <mesh filename="package://iai_apartment/meshes/handles/handle_horizontal.obj" />
        </geometry>
      </collision>
    </link>

    <!-- Cabinet5 -->
    <joint name="cabinet5_joint" type="fixed">
      <origin xyz="-0.121 1.625 0.4" />
      <parent link="side_A" />
      <child link="cabinet5" />
    </joint>

    <link name="cabinet5">
      <visual>
        <geometry>
          <mesh filename="package://iai_apartment/meshes/cabinet05/IAIKitchenCabinet5W60.dae" />
        </geometry>
      </visual>
      <collision>
        <geometry>
          <mesh filename="package://iai_apartment/meshes/cabinet05/IAIKitchenCabinet5W60.obj" />
        </geometry>
      </collision>
    </link>

    <joint name="cabinet5_drawer_top_joint" type="prismatic">
      <origin xyz="0.03 0.0 0.327" rpy="0 0 3.14" />
      <parent link="cabinet5" />
      <child link="cabinet5_drawer_top" />
      <axis xyz="-1 0 0" />
      <limit effort="1000.0" lower="0.0" upper="0.45" velocity="0.5" />
    </joint>

    <link name="cabinet5_drawer_top">
      <visual>
        <origin rpy="0 0 3.14" />
        <geometry>
          <mesh filename="package://iai_apartment/meshes/cabinet05/IAIKitchenDrawerW60H13.dae" />
        </geometry>
      </visual>
      <collision>
        <origin rpy="0 0 3.14" />
        <geometry>
          <mesh filename="package://iai_apartment/meshes/cabinet05/IAIKitchenDrawerW60H13.obj" />
        </geometry>
      </collision>
    </link>

    <joint name="handle_cab5_top_joint" type="fixed">
      <origin xyz="-0.245 0 0.05" rpy="1.57 0 0" />
      <parent link="cabinet5_drawer_top" />
      <child link="handle_cab5_t" />
    </joint>

    <link name="handle_cab5_t">
      <visual>
        <geometry>
          <mesh filename="package://iai_apartment/meshes/handles/handle_horizontal.dae" />
        </geometry>
      </visual>
      <collision>
        <geometry>
          <mesh filename="package://iai_apartment/meshes/handles/handle_horizontal.obj" />
        </geometry>
      </collision>
    </link>

    <joint name="cabinet5_drawer_middle_joint" type="prismatic">
      <origin xyz="0.027 0.0 0.107" rpy="0 0 3.14" />
      <parent link="cabinet5" />
      <child link="cabinet5_drawer_middle" />
      <axis xyz="-1 0 0" />
      <limit effort="1000.0" lower="0.0" upper="0.45" velocity="0.5" />
    </joint>

    <link name="cabinet5_drawer_middle">
      <visual>
        <origin rpy="0 0 3.14" />
        <geometry>
          <mesh filename="package://iai_apartment/meshes/cabinet05/IAIKitchenDrawerW60H26.dae" />
        </geometry>
      </visual>
      <collision>
        <origin rpy="0 0 3.14" />
        <geometry>
          <mesh filename="package://iai_apartment/meshes/cabinet05/IAIKitchenDrawerW60H26.obj" />
        </geometry>
      </collision>
    </link>

    <joint name="handle_cab5_mid_joint" type="fixed">
      <origin xyz="-0.245 0 0.13" rpy="1.57 0 0" />
      <parent link="cabinet5_drawer_middle" />
      <child link="handle_cab5_m" />
    </joint>

    <link name="handle_cab5_m">
      <visual>
        <geometry>
          <mesh filename="package://iai_apartment/meshes/handles/handle_horizontal.dae" />
        </geometry>
      </visual>
      <collision>
        <geometry>
          <mesh filename="package://iai_apartment/meshes/handles/handle_horizontal.obj" />
        </geometry>
      </collision>
    </link>

    <joint name="cabinet5_drawer_bottom_joint" type="prismatic">
      <origin xyz="0.037 0.0 -0.28" rpy="0 0 3.14" />
      <parent link="cabinet5" />
      <child link="cabinet5_drawer_bottom" />
      <axis xyz="-1 0 0" />
      <limit effort="1000.0" lower="0.0" upper="0.45" velocity="0.5" />
    </joint>

    <link name="cabinet5_drawer_bottom">
      <visual>
        <origin rpy="0 0 3.14" />
        <geometry>
          <mesh filename="package://iai_apartment/meshes/cabinet05/IAIKitchenDrawerW60H40.dae" />
        </geometry>
      </visual>
      <collision>
        <origin rpy="0 0 3.14" />
        <geometry>
          <mesh filename="package://iai_apartment/meshes/cabinet05/IAIKitchenDrawerW60H40.obj" />
        </geometry>
      </collision>
    </link>

    <joint name="handle_cab5_bott_joint" type="fixed">
      <origin xyz="-0.235 0 0.245" rpy="1.57 0 0" />
      <parent link="cabinet5_drawer_bottom" />
      <child link="handle_cab5_b" />
    </joint>

    <link name="handle_cab5_b">
      <visual>
        <geometry>
          <mesh filename="package://iai_apartment/meshes/handles/handle_horizontal.dae" />
        </geometry>
      </visual>
      <collision>
        <geometry>
          <mesh filename="package://iai_apartment/meshes/handles/handle_horizontal.obj" />
        </geometry>
      </collision>
    </link>

    <!-- Cabinet6 -->
    <joint name="cabinet6_joint" type="fixed">
      <origin xyz="-0.121 2.127 0.4" />
      <parent link="side_A" />
      <child link="cabinet6" />
    </joint>

    <link name="cabinet6">
      <visual>
        <geometry>
          <mesh filename="package://iai_apartment/meshes/cabinet06/IAIKitchenCabinet6W40.dae" />
        </geometry>
      </visual>
      <collision>
        <geometry>
          <mesh filename="package://iai_apartment/meshes/cabinet06/IAIKitchenCabinet6W40.obj" />
        </geometry>
      </collision>
    </link>

    <joint name="cabinet6_drawer_top_joint" type="prismatic">
      <origin xyz="0.033 -0.0125 0.328" rpy="0 0 3.14" />
      <parent link="cabinet6" />
      <child link="cabinet6_drawer_top" />
      <axis xyz="-1 0 0" />
      <limit effort="1000.0" lower="0.0" upper="0.45" velocity="0.5" />
    </joint>

    <link name="cabinet6_drawer_top">
      <visual>
        <origin rpy="0 0 3.14" />
        <geometry>
          <mesh filename="package://iai_apartment/meshes/cabinet06/IAIKitchenDrawerW40H13.dae" />
        </geometry>
      </visual>
      <collision>
        <origin rpy="0 0 3.14" />
        <geometry>
          <mesh filename="package://iai_apartment/meshes/cabinet06/IAIKitchenDrawerW40H13.obj" />
        </geometry>
      </collision>
    </link>

    <joint name="handle_cab6_top_joint" type="fixed">
      <origin xyz="-0.238 0 0.05" rpy="1.57 0 0" />
      <parent link="cabinet6_drawer_top" />
      <child link="handle_cab6_t" />
    </joint>

    <link name="handle_cab6_t">
      <visual>
        <geometry>
          <mesh filename="package://iai_apartment/meshes/handles/handle_horizontal.dae" />
        </geometry>
      </visual>
      <collision>
        <geometry>
          <mesh filename="package://iai_apartment/meshes/handles/handle_horizontal.obj" />
        </geometry>
      </collision>
    </link>

    <joint name="cabinet6_drawer_middle_joint" type="prismatic">
      <origin xyz="0.03 0.0 0.105" rpy="0 0 3.14" />
      <parent link="cabinet6" />
      <child link="cabinet6_drawer_middle" />
      <axis xyz="-1 0 0" />
      <limit effort="1000.0" lower="0.0" upper="0.45" velocity="0.5" />
    </joint>

    <link name="cabinet6_drawer_middle">
      <visual>
        <origin rpy="0 0 3.14" />
        <geometry>
          <mesh filename="package://iai_apartment/meshes/cabinet06/IAIKitchenDrawerW40H26.dae" />
        </geometry>
      </visual>
      <collision>
        <origin rpy="0 0 3.14" />
        <geometry>
          <mesh filename="package://iai_apartment/meshes/cabinet06/IAIKitchenDrawerW40H26.obj" />
        </geometry>
      </collision>
    </link>

    <joint name="handle_cab6_mid_joint" type="fixed">
      <origin xyz="-0.245 0 0.13" rpy="1.57 0 0" />
      <parent link="cabinet6_drawer_middle" />
      <child link="handle_cab6_m" />
    </joint>

    <link name="handle_cab6_m">
      <visual>
        <geometry>
          <mesh filename="package://iai_apartment/meshes/handles/handle_horizontal.dae" />
        </geometry>
      </visual>
      <collision>
        <geometry>
          <mesh filename="package://iai_apartment/meshes/handles/handle_horizontal.obj" />
        </geometry>
      </collision>
    </link>

    <joint name="cabinet6_drawer_bottom_joint" type="prismatic">
      <origin xyz="0.047 0.0 -0.28" rpy="0 0 3.14" />
      <parent link="cabinet6" />
      <child link="cabinet6_drawer_bottom" />
      <axis xyz="-1 0 0" />
      <limit effort="1000.0" lower="0.0" upper="0.45" velocity="0.5" />
    </joint>

    <link name="cabinet6_drawer_bottom">
      <visual>
        <origin rpy="0 0 3.14" />
        <geometry>
          <mesh filename="package://iai_apartment/meshes/cabinet06/IAIKitchenDrawerW40H40.dae" />
        </geometry>
      </visual>
      <collision>
        <origin rpy="0 0 3.14" />
        <geometry>
          <mesh filename="package://iai_apartment/meshes/cabinet06/IAIKitchenDrawerW40H40.obj" />
        </geometry>
      </collision>
    </link>

    <joint name="handle_cab6_bott_joint" type="fixed">
      <origin xyz="-0.227 0 0.245" rpy="1.57 0 0" />
      <parent link="cabinet6_drawer_bottom" />
      <child link="handle_cab6_b" />
    </joint>

    <link name="handle_cab6_b">
      <visual>
        <geometry>
          <mesh filename="package://iai_apartment/meshes/handles/handle_horizontal.dae" />
        </geometry>
      </visual>
      <collision>
        <geometry>
          <mesh filename="package://iai_apartment/meshes/handles/handle_horizontal.obj" />
        </geometry>
      </collision>
    </link>

    <!-- - - - - - - - - - - - - - - Cabinets side B - - - - - - - - - - - - - - -->
    <!-- Dishwasher: Cabinet 7 -->
    <joint name="cabinet7_joint" type="fixed">
      <origin xyz="0.2 0.501 0.47" />
      <parent link="side_B" />
      <child link="cabinet7" />
    </joint>

    <link name="cabinet7">
      <visual>
        <geometry>
          <mesh filename="package://iai_apartment/meshes/cabinet07/IAIKitchenCabinet7W60.dae" />
        </geometry>
      </visual>
      <collision>
        <geometry>
          <mesh filename="package://iai_apartment/meshes/cabinet07/IAIKitchenCabinet7W60.obj" />
        </geometry>
      </collision>
    </link>

    <joint name="cabinet7_door_bottom_left_joint" type="revolute">
      <origin xyz="0.372 0 -0.45" rpy="0 0 3.14" />
      <parent link="cabinet7" />
      <child link="cabinet7_door_bottom_left" />
      <axis xyz="0 -1 0" />
      <limit effort="1000.0" lower="0.0" upper="1.5708" velocity="1.5708" />
    </joint>

    <link name="cabinet7_door_bottom_left">
      <visual>
        <origin xyz="0 0 0.385" />
        <geometry>
          <mesh filename="package://iai_apartment/meshes/cabinet07/IAIKitchenDoorW60H80.dae" />
        </geometry>
      </visual>
      <collision>
        <origin xyz="0 0 0.385" />
        <geometry>
          <mesh filename="package://iai_apartment/meshes/cabinet07/IAIKitchenDoorW60H80.obj" />
        </geometry>
      </collision>
    </link>

    <joint name="handle_cab7_top_joint" type="fixed">
      <origin xyz="-0.06 0 0.74" rpy="1.57 0 0" />
      <parent link="cabinet7_door_bottom_left" />
      <child link="handle_cab7" />
    </joint>

    <link name="handle_cab7">
      <visual>
        <geometry>
          <mesh filename="package://iai_apartment/meshes/handles/handle_horizontal.dae" />
        </geometry>
      </visual>
      <collision>
        <geometry>
          <mesh filename="package://iai_apartment/meshes/handles/handle_horizontal.obj" />
        </geometry>
      </collision>
    </link>

    <!-- dishwasher rack -->
    <joint name="dishwasher_drawer_middle_joint" type="prismatic">
      <origin xyz="-0.065 0.03 0.08" rpy="0 0 3.14" />
      <parent link="cabinet7" />
      <child link="dishwasher_drawer_middle" />
      <axis xyz="-1 0  0" />
      <limit effort="1000.0" lower="0.0" upper="0.45" velocity="0.5" />
    </joint>

    <link name="dishwasher_drawer_middle">
      <visual>
        <origin rpy="0 0 3.14" />
        <geometry>
          <mesh filename="package://iai_apartment/meshes/cabinet07/dishwasher_drawer_middle.dae" />
        </geometry>
      </visual>
      <collision>
        <origin rpy="0 0 3.14" />
        <geometry>
          <mesh filename="package://iai_apartment/meshes/cabinet07/dishwasher_drawer_middle.obj" />
        </geometry>
      </collision>
    </link>

    <joint name="handle_cab7_drawer_middle_joint" type="fixed">
      <origin xyz="-0.315 0 0.068" rpy="1.57 0 0" />
      <parent link="dishwasher_drawer_middle" />
      <child link="handle_cab7_middle" />
    </joint>

    <link name="handle_cab7_middle">
      <visual>
        <origin rpy="-1.57 0 0" />
        <geometry>
          <box size="0.015 0.325 0.021" />
        </geometry>
        <material name="white" />
      </visual>
      <collision>
        <origin rpy="-1.57 0 0" />
        <geometry>
          <box size="0.015 0.325 0.021" />
        </geometry>
      </collision>
    </link>

    <!-- Cabinet 8 -->
    <joint name="cabinet8_joint" type="fixed">
      <origin xyz="0.256 1.102 0.006" />
      <parent link="side_B" />
      <child link="cabinet8" />
    </joint>

    <link name="cabinet8">
      <visual>
        <geometry>
          <mesh filename="package://iai_apartment/meshes/cabinet08/IAIKitchenCabinet8W60_v2.dae" />
        </geometry>
      </visual>
      <collision>
        <geometry>
          <mesh filename="package://iai_apartment/meshes/cabinet08/IAIKitchenCabinet8W60_v2.obj" />
        </geometry>
      </collision>
    </link>

    <joint name="cabinet8_drawer_middle_joint" type="prismatic">
      <origin xyz="0.05 0.0 0.48" rpy="0 0 3.14" />
      <parent link="cabinet8" />
      <child link="cabinet8_drawer_middle" />
      <axis xyz="-1 0 0" />
      <limit effort="1000.0" lower="0.0" upper="0.40" velocity="0.5" />
    </joint>

    <link name="cabinet8_drawer_middle">
      <visual>
        <origin rpy="0 0 3.14" />
        <geometry>
          <mesh filename="package://iai_apartment/meshes/cabinet08/IAIKitchenDrawerW56H10.dae" />
        </geometry>
      </visual>
      <collision>
        <origin rpy="0 0 3.14" />
        <geometry>
          <mesh filename="package://iai_apartment/meshes/cabinet08/IAIKitchenDrawerW56H10.obj" />
        </geometry>
      </collision>
    </link>

    <joint name="cabinet8_drawer_bottom_joint" type="prismatic">
      <origin xyz="0.114 0.0 0.105" rpy="0 0 3.14" />
      <parent link="cabinet8" />
      <child link="cabinet8_drawer_bottom" />
      <axis xyz="-1 0 0" />
      <limit effort="1000.0" lower="0.0" upper="0.45" velocity="0.5" />
    </joint>

    <link name="cabinet8_drawer_bottom">
      <visual>
        <origin rpy="0 0 3.14" />
        <geometry>
          <mesh filename="package://iai_apartment/meshes/cabinet08/IAIKitchenDrawerW60H80.dae" />
        </geometry>
      </visual>
      <collision>
        <origin rpy="0 0 3.14" />
        <geometry>
          <mesh filename="package://iai_apartment/meshes/cabinet08/IAIKitchenDrawerW60H80.obj" />
        </geometry>
      </collision>
    </link>

    <joint name="handle_cab8_top_joint" type="fixed">
      <origin xyz="-0.238 0 0.65" rpy="1.57 0 0" />
      <parent link="cabinet8_drawer_bottom" />
      <child link="handle_cab8" />
    </joint>

    <link name="handle_cab8">
      <visual>
        <geometry>
          <mesh filename="package://iai_apartment/meshes/handles/handle_horizontal.dae" />
        </geometry>
      </visual>
      <collision>
        <geometry>
          <mesh filename="package://iai_apartment/meshes/handles/handle_horizontal.obj" />
        </geometry>
      </collision>
    </link>

    <!-- Cabinet9 -->
    <joint name="cabinet9_joint" type="fixed">
      <origin xyz="0.333 1.703 0.394" />
      <parent link="side_B" />
      <child link="cabinet9" />
    </joint>

    <link name="cabinet9">
      <visual>
        <geometry>
          <mesh filename="package://iai_apartment/meshes/cabinet09/IAIKitchenCabinet9W60.dae" />
        </geometry>
      </visual>
      <collision>
        <geometry>
          <mesh filename="package://iai_apartment/meshes/cabinet09/IAIKitchenCabinet9W60.obj" />
        </geometry>
      </collision>
    </link>

    <joint name="cabinet9_drawer_top_joint" type="prismatic">
      <origin xyz="0.03 0.0 0.327" rpy="0 0 3.14" />
      <parent link="cabinet9" />
      <child link="cabinet9_drawer_top" />
      <axis xyz="-1 0 0" />
      <limit effort="1000.0" lower="0.0" upper="0.45" velocity="0.5" />
    </joint>

    <link name="cabinet9_drawer_top">
      <visual>
        <origin rpy="0 0 3.14" />
        <geometry>
          <mesh filename="package://iai_apartment/meshes/cabinet09/IAIKitchenDrawerW60H13.dae" />
        </geometry>
      </visual>
      <collision>
        <origin rpy="0 0 3.14" />
        <geometry>
          <mesh filename="package://iai_apartment/meshes/cabinet09/IAIKitchenDrawerW60H13.obj" />
        </geometry>
      </collision>
    </link>

    <joint name="handle_cab9_top_joint" type="fixed">
      <origin xyz="-0.245 0 0.05" rpy="1.57 0 0" />
      <parent link="cabinet9_drawer_top" />
      <child link="handle_cab9_t" />
    </joint>

    <link name="handle_cab9_t">
      <visual>
        <geometry>
          <mesh filename="package://iai_apartment/meshes/handles/handle_horizontal.dae" />
        </geometry>
      </visual>
      <collision>
        <geometry>
          <mesh filename="package://iai_apartment/meshes/handles/handle_horizontal.obj" />
        </geometry>
      </collision>
    </link>

    <joint name="cabinet9_drawer_middle_joint" type="prismatic">
      <origin xyz="0.027 0.0 0.106" rpy="0 0 3.14" />
      <parent link="cabinet9" />
      <child link="cabinet9_drawer_middle" />
      <axis xyz="-1 0 0" />
      <limit effort="1000.0" lower="0.0" upper="0.45" velocity="0.5" />
    </joint>

    <link name="cabinet9_drawer_middle">
      <visual>
        <origin rpy="0 0 3.14" />
        <geometry>
          <mesh filename="package://iai_apartment/meshes/cabinet09/IAIKitchenDrawerW60H26.dae" />
        </geometry>
      </visual>
      <collision>
        <origin rpy="0 0 3.14" />
        <geometry>
          <mesh filename="package://iai_apartment/meshes/cabinet09/IAIKitchenDrawerW60H26.obj" />
        </geometry>
      </collision>
    </link>

    <joint name="handle_cab9_mid_joint" type="fixed">
      <origin xyz="-0.245 0 0.13" rpy="1.57 0 0" />
      <parent link="cabinet9_drawer_middle" />
      <child link="handle_cab9_m" />
    </joint>

    <link name="handle_cab9_m">
      <visual>
        <geometry>
          <mesh filename="package://iai_apartment/meshes/handles/handle_horizontal.dae" />
        </geometry>
      </visual>
      <collision>
        <geometry>
          <mesh filename="package://iai_apartment/meshes/handles/handle_horizontal.obj" />
        </geometry>
      </collision>
    </link>

    <joint name="cabinet9_drawer_bottom_joint" type="prismatic">
      <origin xyz="0.036 0.0 -0.281" rpy="0 0 3.14" />
      <parent link="cabinet9" />
      <child link="cabinet9_drawer_bottom" />
      <axis xyz="-1 0 0" />
      <limit effort="1000.0" lower="0.0" upper="0.45" velocity="0.5" />
    </joint>

    <link name="cabinet9_drawer_bottom">
      <visual>
        <origin rpy="0 0 3.14" />
        <geometry>
          <mesh filename="package://iai_apartment/meshes/cabinet09/IAIKitchenDrawerW60H40.dae" />
        </geometry>
      </visual>
      <collision>
        <origin rpy="0 0 3.14" />
        <geometry>
          <mesh filename="package://iai_apartment/meshes/cabinet09/IAIKitchenDrawerW60H40.obj" />
        </geometry>
      </collision>
    </link>

    <joint name="handle_cab9_bott_joint" type="fixed">
      <origin xyz="-0.24 0 0.245" rpy="1.57 0 0" />
      <parent link="cabinet9_drawer_bottom" />
      <child link="handle_cab9_b" />
    </joint>

    <link name="handle_cab9_b">
      <visual>
        <geometry>
          <mesh filename="package://iai_apartment/meshes/handles/handle_horizontal.dae" />
        </geometry>
      </visual>
      <collision>
        <geometry>
          <mesh filename="package://iai_apartment/meshes/handles/handle_horizontal.obj" />
        </geometry>
      </collision>
    </link>

    <!-- Cabinet 10 -->
    <joint name="cabinet10_joint" type="fixed">
      <origin xyz="0.333 2.204 0.394" />
      <parent link="side_B" />
      <child link="cabinet10" />
    </joint>

    <link name="cabinet10">
      <visual>
        <geometry>
          <mesh filename="package://iai_apartment/meshes/cabinet10/IAIKitchenCabinet9W40.dae" />
        </geometry>
      </visual>
      <collision>
        <geometry>
          <mesh filename="package://iai_apartment/meshes/cabinet10/IAIKitchenCabinet9W40.obj" />
        </geometry>
      </collision>
    </link>

    <joint name="cabinet10_drawer_top_joint" type="prismatic">
      <origin xyz="0.033 0.0 0.326" rpy="0 0 3.14" />
      <parent link="cabinet10" />
      <child link="cabinet10_drawer_top" />
      <axis xyz="-1 0 0" />
      <limit effort="1000.0" lower="0.0" upper="0.45" velocity="0.5" />
    </joint>

    <link name="cabinet10_drawer_top">
      <visual>
        <origin rpy="0 0 3.14" />
        <geometry>
          <mesh filename="package://iai_apartment/meshes/cabinet10/IAIKitchenDrawerW40H13.dae" />
        </geometry>
      </visual>
      <collision>
        <origin rpy="0 0 3.14" />
        <geometry>
          <mesh filename="package://iai_apartment/meshes/cabinet10/IAIKitchenDrawerW40H13.obj" />
        </geometry>
      </collision>
    </link>

    <joint name="handle_cab10_top_joint" type="fixed">
      <origin xyz="-0.243 0 0.05" rpy="1.57 0 0" />
      <parent link="cabinet10_drawer_top" />
      <child link="handle_cab10_t" />
    </joint>

    <link name="handle_cab10_t">
      <visual>
        <geometry>
          <mesh filename="package://iai_apartment/meshes/handles/handle_horizontal.dae" />
        </geometry>
      </visual>
      <collision>
        <geometry>
          <mesh filename="package://iai_apartment/meshes/handles/handle_horizontal.obj" />
        </geometry>
      </collision>
    </link>

    <joint name="cabinet10_drawer_middle_joint" type="prismatic">
      <origin xyz="0.031 0.0 0.104" rpy="0 0 3.14" />
      <parent link="cabinet10" />
      <child link="cabinet10_drawer_middle" />
      <axis xyz="-1 0 0" />
      <limit effort="1000.0" lower="0.0" upper="0.45" velocity="0.5" />
    </joint>

    <link name="cabinet10_drawer_middle">
      <visual>
        <origin rpy="0 0 3.14" />
        <geometry>
          <mesh filename="package://iai_apartment/meshes/cabinet10/IAIKitchenDrawerW40H26.dae" />
        </geometry>
      </visual>
      <collision>
        <origin rpy="0 0 3.14" />
        <geometry>
          <mesh filename="package://iai_apartment/meshes/cabinet10/IAIKitchenDrawerW40H26.obj" />
        </geometry>
      </collision>
    </link>

    <joint name="handle_cab10_mid_joint" type="fixed">
      <origin xyz="-0.245 0 0.13" rpy="1.57 0 0" />
      <parent link="cabinet10_drawer_middle" />
      <child link="handle_cab10_m" />
    </joint>

    <link name="handle_cab10_m">
      <visual>
        <geometry>
          <mesh filename="package://iai_apartment/meshes/handles/handle_horizontal.dae" />
        </geometry>
      </visual>
      <collision>
        <geometry>
          <mesh filename="package://iai_apartment/meshes/handles/handle_horizontal.obj" />
        </geometry>
      </collision>
    </link>

    <joint name="cabinet10_drawer_bottom_joint" type="prismatic">
      <origin xyz="0.03 0.0 -0.279" rpy="0 0 3.14" />
      <parent link="cabinet10" />
      <child link="cabinet10_drawer_bottom" />
      <axis xyz="-1 0 0" />
      <limit effort="1000.0" lower="0.0" upper="0.45" velocity="0.5" />
    </joint>

    <link name="cabinet10_drawer_bottom">
      <visual>
        <origin rpy="0 0 3.14" />
        <geometry>
          <mesh filename="package://iai_apartment/meshes/cabinet10/IAIKitchenDrawerW40H40.dae" />
        </geometry>
      </visual>
      <collision>
        <origin rpy="0 0 3.14" />
        <geometry>
          <mesh filename="package://iai_apartment/meshes/cabinet10/IAIKitchenDrawerW40H40.obj" />
        </geometry>
      </collision>
    </link>

    <joint name="handle_cab10_bott_joint" type="fixed">
      <origin xyz="-0.245 0 0.245" rpy="1.57 0 0" />
      <parent link="cabinet10_drawer_bottom" />
      <child link="handle_cab10_b" />
    </joint>

    <link name="handle_cab10_b">
      <visual>
        <geometry>
          <mesh filename="package://iai_apartment/meshes/handles/handle_horizontal.dae" />
        </geometry>
      </visual>
      <collision>
        <geometry>
          <mesh filename="package://iai_apartment/meshes/handles/handle_horizontal.obj" />
        </geometry>
      </collision>
    </link>

    <!-- Cabinet 11 -->
    <joint name="cabinet11_joint" type="fixed">
      <origin xyz="0.333 2.855 0.394" />
      <parent link="side_B" />
      <child link="cabinet11" />
    </joint>

    <link name="cabinet11">
      <visual>
        <geometry>
          <mesh filename="package://iai_apartment/meshes/cabinet11/IAIKitchenCabinet11W90.dae" />
        </geometry>
      </visual>
      <collision>
        <geometry>
          <mesh filename="package://iai_apartment/meshes/cabinet11/IAIKitchenCabinet11W90.obj" />
        </geometry>
      </collision>
    </link>

    <joint name="cabinet11_drawer_top_joint" type="prismatic">
      <origin xyz="0.03 0.0 0.326" rpy="0 0 3.14" />
      <parent link="cabinet11" />
      <child link="cabinet11_drawer_top" />
      <axis xyz="-1 0 0" />
      <limit effort="1000.0" lower="0.0" upper="0.45" velocity="0.5" />
    </joint>

    <link name="cabinet11_drawer_top">
      <visual>
        <origin rpy="0 0 3.14" />
        <geometry>
          <mesh filename="package://iai_apartment/meshes/cabinet11/IAIKitchenDrawerW90H13.dae" />
        </geometry>
      </visual>
      <collision>
        <origin rpy="0 0 3.14" />
        <geometry>
          <mesh filename="package://iai_apartment/meshes/cabinet11/IAIKitchenDrawerW90H13.obj" />
        </geometry>
      </collision>
    </link>

    <joint name="handle_cab11_top_joint" type="fixed">
      <origin xyz="-0.243 0 0.05" rpy="1.57 0 0" />
      <parent link="cabinet11_drawer_top" />
      <child link="handle_cab11_t" />
    </joint>

    <link name="handle_cab11_t">
      <visual>
        <geometry>
          <mesh filename="package://iai_apartment/meshes/handles/handle_horizontal.dae" />
        </geometry>
      </visual>
      <collision>
        <geometry>
          <mesh filename="package://iai_apartment/meshes/handles/handle_horizontal.obj" />
        </geometry>
      </collision>
    </link>

    <joint name="cabinet11_drawer_middle_joint" type="prismatic">
      <origin xyz="0.027 0.0 0.106" rpy="0 0 3.14" />
      <parent link="cabinet11" />
      <child link="cabinet11_drawer_middle" />
      <axis xyz="-1 0 0" />
      <limit effort="1000.0" lower="0.0" upper="0.45" velocity="0.5" />
    </joint>

    <link name="cabinet11_drawer_middle">
      <visual>
        <origin rpy="0 0 3.14" />
        <geometry>
          <mesh filename="package://iai_apartment/meshes/cabinet11/IAIKitchenDrawerW90H26.dae" />
        </geometry>
      </visual>
      <collision>
        <origin rpy="0 0 3.14" />
        <geometry>
          <mesh filename="package://iai_apartment/meshes/cabinet11/IAIKitchenDrawerW90H26.obj" />
        </geometry>
      </collision>
    </link>

    <joint name="handle_cab11_mid_joint" type="fixed">
      <origin xyz="-0.245 0 0.13" rpy="1.57 0 0" />
      <parent link="cabinet11_drawer_middle" />
      <child link="handle_cab11_m" />
    </joint>

    <link name="handle_cab11_m">
      <visual>
        <geometry>
          <mesh filename="package://iai_apartment/meshes/handles/handle_horizontal.dae" />
        </geometry>
      </visual>
      <collision>
        <geometry>
          <mesh filename="package://iai_apartment/meshes/handles/handle_horizontal.obj" />
        </geometry>
      </collision>
    </link>

    <joint name="cabinet11_drawer_bottom_joint" type="prismatic">
      <origin xyz="0.045 0.0 -0.286" rpy="0 0 3.14" />
      <parent link="cabinet11" />
      <child link="cabinet11_drawer_bottom" />
      <axis xyz="-1 0 0" />
      <limit effort="1000.0" lower="0.0" upper="0.45" velocity="0.5" />
    </joint>

    <link name="cabinet11_drawer_bottom">
      <visual>
        <origin rpy="0 0 3.14" />
        <geometry>
          <mesh filename="package://iai_apartment/meshes/cabinet11/IAIKitchenDrawerW90H40.dae" />
        </geometry>
      </visual>
      <collision>
        <origin rpy="0 0 3.14" />
        <geometry>
          <mesh filename="package://iai_apartment/meshes/cabinet11/IAIKitchenDrawerW90H40.obj" />
        </geometry>
      </collision>
    </link>

    <joint name="handle_cab11_bott_joint" type="fixed">
      <origin xyz="-0.228 0 0.245" rpy="1.57 0 0" />
      <parent link="cabinet11_drawer_bottom" />
      <child link="handle_cab11_b" />
    </joint>

    <link name="handle_cab11_b">
      <visual>
        <geometry>
          <mesh filename="package://iai_apartment/meshes/handles/handle_horizontal.dae" />
        </geometry>
      </visual>
      <collision>
        <geometry>
          <mesh filename="package://iai_apartment/meshes/handles/handle_horizontal.obj" />
        </geometry>
      </collision>
    </link>

    <!-- Miscellaneous -->
    <!-- Island, Main Countertop -->
    <joint name="island_countertop_joint" type="fixed">
      <origin xyz="0.13 1.786 0.807" />
      <parent link="side_B" />
      <child link="island_countertop" />
    </joint>

    <link name="island_countertop">
      <visual>
        <geometry>
          <mesh filename="package://iai_apartment/meshes/island/IAIKitchenIslandAreaTop.dae" />
        </geometry>
      </visual>
      <collision>
        <geometry>
          <mesh filename="package://iai_apartment/meshes/island/IAIKitchenIslandAreaTop.obj" />
        </geometry>
      </collision>
    </link>

    <!-- Cooktop -->
    <joint name="cooktop_joint" type="fixed">
      <origin xyz="0.130 1.074 0.023" />
      <parent link="island_countertop" />
      <child link="cooktop" />
    </joint>

    <link name="cooktop">
      <visual>
        <geometry>
          <mesh filename="package://iai_apartment/meshes/cooktop/IAIKitchenCookTop.dae" />
        </geometry>
      </visual>
      <collision>
        <geometry>
          <mesh filename="package://iai_apartment/meshes/cooktop/IAIKitchenCookTop.obj" />
        </geometry>
      </collision>
    </link>

    <joint name="hotplate1_joint" type="fixed">
      <origin xyz="0.1069 -0.16199 0.005" />
      <parent link="cooktop" />
      <child link="hotplate1" />
    </joint>

    <link name="hotplate1" />

    <joint name="hotplate2_joint" type="fixed">
      <origin xyz="0.066902 0.13801 0.0055" />
      <parent link="cooktop" />
      <child link="hotplate2" />
    </joint>

    <link name="hotplate2" />

    <joint name="hotplate3_joint" type="fixed">
      <origin xyz="-0.155778 0.138013 0.0055" />
      <parent link="cooktop" />
      <child link="hotplate3" />
    </joint>

    <link name="hotplate3" />

    <joint name="hotplate4_joint" type="fixed">
      <origin xyz="-0.115778 -0.161987 0.005333" />
      <parent link="cooktop" />
      <child link="hotplate4" />
    </joint>

    <link name="hotplate4" />

    <!-- Sink, Kitchen Sink -->
    <joint name="sink_joint" type="fixed">
      <origin xyz="0.198 -0.698 -0.038" />
      <parent link="island_countertop" />
      <child link="sink" />
    </joint>

    <link name="sink">
      <visual>
        <geometry>
          <mesh filename="package://iai_apartment/meshes/sink/IAIKitchenSink.dae" />
        </geometry>
      </visual>
      <collision>
        <geometry>
          <mesh filename="package://iai_apartment/meshes/sink/IAIKitchenSink.obj" />
        </geometry>
      </collision>
    </link>

    <!-- Tap, Water Tap -->
    <joint name="tap_joint" type="revolute">
      <origin xyz="-0.228 -0.003 0.164" />
      <parent link="sink" />
      <child link="tap_body" />
      <axis xyz="0 0 1" />
      <limit effort="1000.0" lower="-1.5708" upper="1.5708" velocity="1.5708" />
    </joint>

    <link name="tap_body">
      <visual>
        <geometry>
          <mesh filename="package://iai_apartment/meshes/tap/IAIKitchenWaterTapBody.dae" />
        </geometry>
      </visual>
      <collision>
        <origin rpy="1.5708 0 0" />
        <geometry>
          <mesh filename="package://iai_apartment/meshes/tap/IAIKitchenWaterTapBody.obj" />
        </geometry>
      </collision>
    </link>

    <joint name="tap_handle_open_joint" type="revolute">
      <origin xyz="0.001233 0.038489 -0.055395"/>
      <parent link="tap_body" />
      <child link="tap_handle_open" />
      <axis xyz="0 1 0" />
      <limit effort="1000.0" lower="-1.5708" upper="1.5708" velocity="1.5708" />
    </joint>

    <link name="tap_handle_open" />

    <joint name="tap_handle_hot_cold_joint" type="revolute">
      <origin rpy="0 0.5 0"/>
      <parent link="tap_handle_open" />
      <child link="tap_handle" />
      <axis xyz="1 0 0" />
      <limit effort="1000.0" lower="-0.5" upper="0" velocity="1.5708" />
    </joint>

    <link name="tap_handle">
      <visual>
        <origin rpy="0 0.5 0"/>
        <geometry>
          <mesh filename="package://iai_apartment/meshes/tap/IAIKitchenWaterTapHandle.dae" />
        </geometry>
      </visual>
      <collision>
        <origin rpy="1.5708 0.5 0" />
        <geometry>
          <mesh filename="package://iai_apartment/meshes/tap/IAIKitchenWaterTapHandle.obj" />
        </geometry>
      </collision>
    </link>

    <!-- floor socket: A -->
    <joint name="socket_a_joint" type="fixed">
      <origin xyz="0.095 1.02 -0.03" />
      <parent link="side_A" />
      <child link="useless_underbar_a" />
    </joint>

    <link name="useless_underbar_a">
      <visual>
        <geometry>
          <mesh filename="package://iai_apartment/meshes/floor_socket_side_a/IAIKitchenPartSocketW260.dae" />
        </geometry>
      </visual>
      <collision>
        <geometry>
          <mesh filename="package://iai_apartment/meshes/floor_socket_side_a/IAIKitchenPartSocketW260.obj" />
        </geometry>
      </collision>
    </link>

    <!-- floor socket: B -->
    <joint name="socket_b_joint" type="fixed">
      <origin xyz="0.552 1.755 -0.045" />
      <parent link="side_B" />
      <child link="useless_underbar_b" />
    </joint>

    <link name="useless_underbar_b">
      <visual>
        <geometry>
          <mesh filename="package://iai_apartment/meshes/floor_socket_side_b/IAIKitchenPartSocketW310.dae" />
        </geometry>
      </visual>
      <collision>
        <geometry>
          <mesh filename="package://iai_apartment/meshes/floor_socket_side_b/IAIKitchenPartSocketW310.obj" />
        </geometry>
      </collision>
    </link>

    <!-- Side A countertop -->
    <joint name="countertop_joint" type="fixed">
      <origin xyz="-0.027 0.21 0.423" />
      <parent link="cabinet5" />
      <child link="countertop" />
    </joint>

    <link name="countertop">
      <visual>
        <geometry>
          <mesh filename="package://iai_apartment/meshes/countertop/IAIKitchenPartW102H60.dae" />
        </geometry>
      </visual>
      <collision>
        <geometry>
          <mesh filename="package://iai_apartment/meshes/countertop/IAIKitchenPartW102H60.obj" />
        </geometry>
      </collision>
    </link>

    <joint name="coffe_machine_joint" type="fixed">
      <origin xyz="0 0.3 0.2" />
      <parent link="countertop" />
      <child link="coffe_machine" />
    </joint>

    <link name="coffe_machine">
      <visual>
        <geometry>
          <box size="0.58 0.33 0.41" />
        </geometry>
        <material name="oven_gray" />
      </visual>
      <collision>
        <geometry>
          <box size="0.58 0.32 0.41" />
        </geometry>
        <material name="oven_gray" />
      </collision>
    </link>

    <!-- island waterfall, left side -->
    <joint name="island_waterfall_left_joint" type="fixed">
      <origin xyz="0.285 0.191 0.354" rpy="1.57 0 1.57" />
      <parent link="side_B" />
      <child link="island_waterfall_left" />
    </joint>

    <link name="island_waterfall_left">
      <visual>
        <geometry>
          <mesh filename="package://iai_apartment/meshes/IAIKitchenVisiblePartIslandUnderSideW90H60/IAIKitchenVisiblePartIslandUnderSideW90H60.dae" />
        </geometry>
      </visual>
      <collision>
        <geometry>
          <mesh filename="package://iai_apartment/meshes/IAIKitchenVisiblePartIslandUnderSideW90H60/IAIKitchenVisiblePartIslandUnderSideW90H60.obj" />
        </geometry>
      </collision>
    </link>

    <!-- island waterfall, right side -->
    <joint name="island_waterfall_right_joint" type="fixed">
      <origin xyz="0.285 3.315 0.354" rpy="1.57 0 1.57" />
      <parent link="side_B" />
      <child link="island_waterfall_right" />
    </joint>

    <link name="island_waterfall_right">
      <visual>
        <geometry>
          <mesh filename="package://iai_apartment/meshes/IAIKitchenVisiblePartIslandUnderSideW90H60/IAIKitchenVisiblePartIslandUnderSideW90H60.dae" />
        </geometry>
      </visual>
      <collision>
        <geometry>
          <mesh filename="package://iai_apartment/meshes/IAIKitchenVisiblePartIslandUnderSideW90H60/IAIKitchenVisiblePartIslandUnderSideW90H60.obj" />
        </geometry>
      </collision>
    </link>

    <!-- island, back panel -->
    <joint name="island_back_joint" type="fixed">
      <origin xyz="-0.026 1.754 0.353" rpy="0 1.57 0" />
      <parent link="side_B" />
      <child link="island_back" />
    </joint>

    <link name="island_back">
      <visual>
        <geometry>
          <mesh filename="package://iai_apartment/meshes/IAIKitchenPartW314H90/IAIKitchenPartW314H90.dae" />
        </geometry>
      </visual>
      <collision>
        <geometry>
          <mesh filename="package://iai_apartment/meshes/IAIKitchenPartW314H90/IAIKitchenPartW314H90.obj" />
        </geometry>
      </collision>
    </link>

    <!-- side A left panel -->
    <joint name="side_A_left_joint" type="fixed">
      <origin xyz="-0.16 -0.296 1.030" rpy="0 0 1.57" />
      <parent link="side_A" />
      <child link="side_A_left" />
    </joint>

    <link name="side_A_left">
      <visual>
        <geometry>
          <mesh filename="package://iai_apartment/meshes/IAIKitchenPartW58H223/IAIKitchenPartW58H223.dae" />
        </geometry>
      </visual>
      <collision>
        <geometry>
          <mesh filename="package://iai_apartment/meshes/IAIKitchenPartW58H223/IAIKitchenPartW58H223.obj" />
        </geometry>
      </collision>
    </link>

    <!-- side A right panel up -->
    <joint name="side_A_right_top_joint" type="fixed">
      <origin xyz="-0.262 2.336 1.74" rpy="0 0 1.57" />
      <parent link="side_A" />
      <child link="side_A_rt" />
    </joint>

    <link name="side_A_rt">
      <visual>
        <geometry>
          <mesh filename="package://iai_apartment/meshes/IAIKitchenVisiblePartUppersideW80H39/IAIKitchenVisiblePartUppersideW80H39.dae" />
        </geometry>
      </visual>
      <collision>
        <geometry>
          <mesh filename="package://iai_apartment/meshes/IAIKitchenVisiblePartUppersideW80H39/IAIKitchenVisiblePartUppersideW80H39.obj" />
        </geometry>
      </collision>
    </link>

    <!-- side A right panel bottom -->
    <joint name="side_A_right_bott_joint" type="fixed">
      <origin xyz="-0.159 2.338 0.361" rpy="1.57 0 1.57" />
      <parent link="side_A" />
      <child link="side_A_rb" />
    </joint>

    <link name="side_A_rb">
      <visual>
        <geometry>
          <mesh filename="package://iai_apartment/meshes/IAIKitchenVisiblePartUnderSideW90H58/IAIKitchenVisiblePartUnderSideW90H58.dae" />
        </geometry>
      </visual>
      <collision>
        <geometry>
          <mesh filename="package://iai_apartment/meshes/IAIKitchenVisiblePartUnderSideW90H58/IAIKitchenVisiblePartUnderSideW90H58.obj" />
        </geometry>
      </collision>
    </link>

  </xacro:macro>
</robot>